<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>plenoptomos package &mdash; plenoptomos  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="plenoptomos.unsupported package" href="plenoptomos.unsupported.html" />
    <link rel="prev" title="plenoptomos" href="modules.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> plenoptomos
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="readme.html">plenoptomos</a></li>
<li class="toctree-l1"><a class="reference internal" href="fileformat.html">File format</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples description</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">plenoptomos</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">plenoptomos package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#subpackages">Subpackages</a><ul>
<li class="toctree-l4"><a class="reference internal" href="plenoptomos.unsupported.html">plenoptomos.unsupported package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-plenoptomos.colors">plenoptomos.colors module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-plenoptomos.data_format">plenoptomos.data_format module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-plenoptomos.depth">plenoptomos.depth module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-plenoptomos.import_lf">plenoptomos.import_lf module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-plenoptomos.lightfield">plenoptomos.lightfield module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-plenoptomos.psf">plenoptomos.psf module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-plenoptomos.refocus">plenoptomos.refocus module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-plenoptomos.solvers">plenoptomos.solvers module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-plenoptomos.tomo">plenoptomos.tomo module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-plenoptomos.utils_io">plenoptomos.utils_io module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-plenoptomos.utils_plot">plenoptomos.utils_plot module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-plenoptomos.utils_proc">plenoptomos.utils_proc module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-plenoptomos">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">plenoptomos</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="modules.html">plenoptomos</a> &raquo;</li>
      <li>plenoptomos package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/plenoptomos.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="plenoptomos-package">
<h1>plenoptomos package<a class="headerlink" href="#plenoptomos-package" title="Permalink to this headline"></a></h1>
<section id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline"></a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="plenoptomos.unsupported.html">plenoptomos.unsupported package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="plenoptomos.unsupported.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="plenoptomos.unsupported.html#module-plenoptomos.unsupported.geometry">plenoptomos.unsupported.geometry module</a></li>
<li class="toctree-l2"><a class="reference internal" href="plenoptomos.unsupported.html#module-plenoptomos.unsupported.reconstruction">plenoptomos.unsupported.reconstruction module</a></li>
<li class="toctree-l2"><a class="reference internal" href="plenoptomos.unsupported.html#module-plenoptomos.unsupported.testing">plenoptomos.unsupported.testing module</a></li>
<li class="toctree-l2"><a class="reference internal" href="plenoptomos.unsupported.html#module-plenoptomos.unsupported.utils_img">plenoptomos.unsupported.utils_img module</a></li>
<li class="toctree-l2"><a class="reference internal" href="plenoptomos.unsupported.html#module-plenoptomos.unsupported">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</section>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline"></a></h2>
</section>
<section id="module-plenoptomos.colors">
<span id="plenoptomos-colors-module"></span><h2>plenoptomos.colors module<a class="headerlink" href="#module-plenoptomos.colors" title="Permalink to this headline"></a></h2>
<p>Convenience functions for handling multi-channel datasets.
They mainly focus on visible light (RGB channels).</p>
<p>&#64;author: Nicola VIGANÒ, Computational Imaging group, CWI, The Netherlands,
and ESRF - The European Synchrotron, Grenoble, France</p>
<p>Created on Tue Apr  4 16:01:41 2017</p>
<dl class="py function">
<dt class="sig sig-object py" id="plenoptomos.colors.convert_energy_to_wavelength">
<span class="sig-prename descclassname"><span class="pre">plenoptomos.colors.</span></span><span class="sig-name descname"><span class="pre">convert_energy_to_wavelength</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">energy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit_energy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'eV'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit_lambda</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'um'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/colors.html#convert_energy_to_wavelength"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.colors.convert_energy_to_wavelength" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="plenoptomos.colors.deal_with_channels">
<span class="sig-prename descclassname"><span class="pre">plenoptomos.colors.</span></span><span class="sig-name descname"><span class="pre">deal_with_channels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">img</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'grayscale'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rgb2gs_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'luma'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/colors.html#deal_with_channels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.colors.deal_with_channels" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="plenoptomos.colors.detect_color">
<span class="sig-prename descclassname"><span class="pre">plenoptomos.colors.</span></span><span class="sig-name descname"><span class="pre">detect_color</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">camera</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.01</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/colors.html#detect_color"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.colors.detect_color" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="plenoptomos.colors.from_rgb_to_grayscale">
<span class="sig-prename descclassname"><span class="pre">plenoptomos.colors.</span></span><span class="sig-name descname"><span class="pre">from_rgb_to_grayscale</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">img</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'luma'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/colors.html#from_rgb_to_grayscale"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.colors.from_rgb_to_grayscale" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="plenoptomos.colors.get_rgb_wavelengths">
<span class="sig-prename descclassname"><span class="pre">plenoptomos.colors.</span></span><span class="sig-name descname"><span class="pre">get_rgb_wavelengths</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/colors.html#get_rgb_wavelengths"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.colors.get_rgb_wavelengths" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="plenoptomos.colors.merge_rgb_images">
<span class="sig-prename descclassname"><span class="pre">plenoptomos.colors.</span></span><span class="sig-name descname"><span class="pre">merge_rgb_images</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">imgs_r</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">imgs_g</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">imgs_b</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vmin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vmax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/colors.html#merge_rgb_images"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.colors.merge_rgb_images" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="plenoptomos.colors.merge_rgb_lightfields">
<span class="sig-prename descclassname"><span class="pre">plenoptomos.colors.</span></span><span class="sig-name descname"><span class="pre">merge_rgb_lightfields</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lf_r</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lf_g</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lf_b</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'luma'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/colors.html#merge_rgb_lightfields"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.colors.merge_rgb_lightfields" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-plenoptomos.data_format">
<span id="plenoptomos-data-format-module"></span><h2>plenoptomos.data_format module<a class="headerlink" href="#module-plenoptomos.data_format" title="Permalink to this headline"></a></h2>
<p>This module implements the handling of the .vox data format.
It exposes routines that allow to create, calibrate and read vox files.</p>
<p>Convetions:
- arrays are understood in the C convention</p>
<p>Rationale behind version 0:
- Single light-field per file
- Contains all the necessary metadata for interpretation of the light-field
- Based on [HDF5](<a class="reference external" href="https://www.hdfgroup.org/solutions/hdf5/">https://www.hdfgroup.org/solutions/hdf5/</a>) and vaguely
inspired by [DataExchange](<a class="reference external" href="https://github.com/data-exchange/dxchange">https://github.com/data-exchange/dxchange</a>)</p>
<p>The updated structure can be found at: <a class="reference external" href="https://cicwi.github.io/plenoptomos">https://cicwi.github.io/plenoptomos</a></p>
<p>&#64;author: Nicola Vigano, Charlotte Herzog, Pablo Martinez</p>
<p>Created on Tue Nov 21 23:50:47 2017</p>
<dl class="py function">
<dt class="sig sig-object py" id="plenoptomos.data_format.calibrate_raw_image">
<span class="sig-prename descclassname"><span class="pre">plenoptomos.data_format.</span></span><span class="sig-name descname"><span class="pre">calibrate_raw_image</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vox_file_in</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vox_file_out</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pitch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/data_format.html#calibrate_raw_image"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.data_format.calibrate_raw_image" title="Permalink to this definition"></a></dt>
<dd><p>Calibrate the array offsets and lenslet pitch for a .vox light-field file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>vox_file_in</strong> – the uncalibrated light-field file path (string)</p></li>
<li><p><strong>vox_file_out</strong> – the calibrated light-field file path (string)</p></li>
<li><p><strong>pitch</strong> – OPTIONAL lenslet pitch, that would otherwise be calibrated (&lt;2x1&gt; list or tuple, default: None)</p></li>
<li><p><strong>offset</strong> – OPTIONAL MLA offset, that would otherwise be calibrated (&lt;2x1&gt; list or tuple, default: None)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="plenoptomos.data_format.create_vox_from_dict">
<span class="sig-prename descclassname"><span class="pre">plenoptomos.data_format.</span></span><span class="sig-name descname"><span class="pre">create_vox_from_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">white</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dark</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/data_format.html#create_vox_from_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.data_format.create_vox_from_dict" title="Permalink to this definition"></a></dt>
<dd><p>Creates a .vox light-field file, from a raw detector image and a
dictionary containing metadata.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – the raw image (numpy.array_like)</p></li>
<li><p><strong>config</strong> – the dictionary containing metadata (numpy.array_like)</p></li>
<li><p><strong>out_file</strong> – the uncalibrated light-field file path (string)</p></li>
<li><p><strong>white</strong> – the flat-field image (numpy.array_like, default: None)</p></li>
<li><p><strong>dark</strong> – the dark-field image (numpy.array_like, default: None)</p></li>
<li><p><strong>mask</strong> – the light-field mask image (numpy.array_like, default: None)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="plenoptomos.data_format.create_vox_from_lf">
<span class="sig-prename descclassname"><span class="pre">plenoptomos.data_format.</span></span><span class="sig-name descname"><span class="pre">create_vox_from_lf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lf</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="#plenoptomos.lightfield.Lightfield" title="plenoptomos.lightfield.Lightfield"><span class="pre">plenoptomos.lightfield.Lightfield</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_file</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/data_format.html#create_vox_from_lf"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.data_format.create_vox_from_lf" title="Permalink to this definition"></a></dt>
<dd><p>Creates a .vox light-field file, from the light-field data class.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lf</strong> – the light-field data class (lightfield.LightField)</p></li>
<li><p><strong>out_file</strong> – the uncalibrated light-field file path (string)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="plenoptomos.data_format.create_vox_from_raw">
<span class="sig-prename descclassname"><span class="pre">plenoptomos.data_format.</span></span><span class="sig-name descname"><span class="pre">create_vox_from_raw</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">raw_det_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">conf_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">raw_det_white</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">raw_det_dark</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">raw_det_mask</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/data_format.html#create_vox_from_raw"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.data_format.create_vox_from_raw" title="Permalink to this definition"></a></dt>
<dd><p>Creates a .vox light-field file, from a raw detector image and metadata.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>raw_det_file</strong> – the raw image file path (string)</p></li>
<li><p><strong>conf_file</strong> – the metadata file path (string)</p></li>
<li><p><strong>out_file</strong> – the uncalibrated light-field file path (string)</p></li>
<li><p><strong>raw_det_white</strong> – the flat-field image file path (string, default: None)</p></li>
<li><p><strong>raw_det_dark</strong> – the dark-field image file path (string, default: None)</p></li>
<li><p><strong>raw_det_mask</strong> – the light-field mask image file path (string, default: None)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="plenoptomos.data_format.load">
<span class="sig-prename descclassname"><span class="pre">plenoptomos.data_format.</span></span><span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vox_file</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/data_format.html#load"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.data_format.load" title="Permalink to this definition"></a></dt>
<dd><p>Loads a .vox light-field file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>vox_file</strong> – the light-field file path (string)</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the loaded light-field</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>light-field.Lightfield</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="plenoptomos.data_format.raw_to_microimage_exact">
<span class="sig-prename descclassname"><span class="pre">plenoptomos.data_format.</span></span><span class="sig-name descname"><span class="pre">raw_to_microimage_exact</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offsets</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pitch</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/data_format.html#raw_to_microimage_exact"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.data_format.raw_to_microimage_exact" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="plenoptomos.data_format.raw_to_microimage_interp">
<span class="sig-prename descclassname"><span class="pre">plenoptomos.data_format.</span></span><span class="sig-name descname"><span class="pre">raw_to_microimage_interp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offsets</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pitch_in</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pitch_out</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">array_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/data_format.html#raw_to_microimage_interp"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.data_format.raw_to_microimage_interp" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="plenoptomos.data_format.transform_2D_to_4D">
<span class="sig-prename descclassname"><span class="pre">plenoptomos.data_format.</span></span><span class="sig-name descname"><span class="pre">transform_2D_to_4D</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_shape_tsvu</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/data_format.html#transform_2D_to_4D"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.data_format.transform_2D_to_4D" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-plenoptomos.depth">
<span id="plenoptomos-depth-module"></span><h2>plenoptomos.depth module<a class="headerlink" href="#module-plenoptomos.depth" title="Permalink to this headline"></a></h2>
<p>This module implements the depth estimation routines, that allow to compute
depth-maps from light-fields.</p>
<p>&#64;author: Nicola VIGANÒ, Computational Imaging group, CWI, The Netherlands,
and ESRF - The European Synchrotron, Grenoble, France</p>
<p>Created on Wed Mar 29 12:34:36 2017</p>
<dl class="py function">
<dt class="sig sig-object py" id="plenoptomos.depth.compute_depth_cues">
<span class="sig-prename descclassname"><span class="pre">plenoptomos.depth.</span></span><span class="sig-name descname"><span class="pre">compute_depth_cues</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lf</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="#plenoptomos.lightfield.Lightfield" title="plenoptomos.lightfield.Lightfield"><span class="pre">plenoptomos.lightfield.Lightfield</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">zs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compute_defocus</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compute_correspondence</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compute_xcorrelation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">beam_geometry</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'parallel'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">domain</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'object'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">psf</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">up_sampling</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">super_sampling</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">algorithm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'bpj'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iterations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">confidence_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'integral'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">quadratic_refinement</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">window_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(9,</span> <span class="pre">9)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">window_shape</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'gauss'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_filter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/depth.html#compute_depth_cues"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.depth.compute_depth_cues" title="Permalink to this definition"></a></dt>
<dd><p>Computes depth cues, needed to create a depth map.</p>
<p>These depth cues are created following the procedure from:</p>
<p>M. W. Tao, et al., “Depth from combining defocus and correspondence using
light-field cameras,” in Proceedings of the IEEE International Conference on
Computer Vision, 2013, pp. 673–680.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lf</strong> (<a class="reference internal" href="#plenoptomos.lightfield.Lightfield" title="plenoptomos.lightfield.Lightfield"><em>lightfield.Lightfield</em></a>) – The light-field object</p></li>
<li><p><strong>zs</strong> (<cite>numpy.array_like</cite>) – Refocusing distances</p></li>
<li><p><strong>compute_defocus</strong> (<em>boolean</em><em>, </em><em>optional</em>) – Enable defocus cues, defaults to True</p></li>
<li><p><strong>compute_correspondence</strong> (<em>boolean</em><em>, </em><em>optional</em>) – Enable corresponence cues, defaults to True</p></li>
<li><p><strong>compute_xcorrelation</strong> (<em>boolean</em><em>, </em><em>optional</em>) – Enable cross-correlation cues, defaults to False</p></li>
<li><p><strong>beam_geometry</strong> (<em>str</em><em>, </em><em>optional</em>) – Beam geometry. Options: ‘parallel’ | ‘cone’, defaults to ‘parallel’</p></li>
<li><p><strong>domain</strong> (<em>str</em><em>, </em><em>optional</em>) – Refocusing domain. Options: ‘object’ | ‘image’, defaults to ‘object’</p></li>
<li><p><strong>psf</strong> (<a class="reference internal" href="#plenoptomos.psf.PSFApply" title="plenoptomos.psf.PSFApply"><em>psf.PSFApply</em></a><em>, </em><em>optional</em>) – Refocusing PSF, defaults to None</p></li>
<li><p><strong>up_sampling</strong> (<em>int</em><em>, </em><em>optional</em>) – Integer greater than 1 for up-sampling of the final images, defaults to 1</p></li>
<li><p><strong>super_sampling</strong> (<em>int</em><em>, </em><em>optional</em>) – Integer equal or greater than 1, for higer sampling density of the final images, defaults to 1</p></li>
<li><p><strong>algorithm</strong> (<em>str</em><em>, </em><em>optional</em>) – Refocusing algorithm to use for the construction of the focal stack, defaults to ‘bpj’</p></li>
<li><p><strong>iterations</strong> (<em>int</em><em>, </em><em>optional</em>) – Number of refocusing iterations, defaults to 5</p></li>
<li><p><strong>confidence_method</strong> (<em>str</em><em>, </em><em>optional</em>) – Confidence computation method, defaults to ‘integral’, options: ‘integral’ | ‘2nd_peak’</p></li>
<li><p><strong>quadratic_refinement</strong> (<em>boolean</em><em>, </em><em>optional</em>) – Use quadratic fit, to refine depth estimation, defaults to True</p></li>
<li><p><strong>window_size</strong> (<em>tuple</em><em>(</em><em>int</em><em>, </em><em>int</em><em>)</em><em>, </em><em>optional</em>) – Filtering window size, defaults to (9, 9)</p></li>
<li><p><strong>window_shape</strong> (<em>str</em><em>, </em><em>optional</em>) – Filtering window shape. Options: ‘tri’ | ‘circ’ | ‘gauss’ | ‘rect’, defaults to ‘circ’</p></li>
<li><p><strong>mask</strong> (<cite>numpy.array_like</cite>, optional) – Light-field data mask, defaults to None</p></li>
<li><p><strong>plot_filter</strong> (<em>boolean</em><em>, </em><em>optional</em>) – Plot the used smoothing filter, defaults to False</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – In case of unknown algorithm or confidence_method</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Depth cues and their confidences.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="plenoptomos.depth.compute_depth_map">
<span class="sig-prename descclassname"><span class="pre">plenoptomos.depth.</span></span><span class="sig-name descname"><span class="pre">compute_depth_map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">depth_cues</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iterations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">500</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lambda_tv</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lambda_d2</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lambda_wl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_defocus</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_correspondence</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_xcorrelation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/depth.html#compute_depth_map"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.depth.compute_depth_map" title="Permalink to this definition"></a></dt>
<dd><p>Computes a depth map from the given depth cues.</p>
<p>This depth map is based on the procedure from:</p>
<p>M. W. Tao, et al., “Depth from combining defocus and correspondence using
light-field cameras,” in Proceedings of the IEEE International Conference on
Computer Vision, 2013, pp. 673–680.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>depth_cues</strong> (<em>dict</em>) – The depth cues</p></li>
<li><p><strong>iterations</strong> (<em>int</em><em>, </em><em>optional</em>) – Number of iterations, defaults to 500</p></li>
<li><p><strong>lambda_tv</strong> (<em>float</em><em>, </em><em>optional</em>) – Lambda value of the TV term, defaults to 2.0</p></li>
<li><p><strong>lambda_d2</strong> (<em>float</em><em>, </em><em>optional</em>) – Lambda value of the smoothing term, defaults to 0.05</p></li>
<li><p><strong>lambda_wl</strong> (<em>float</em><em>, </em><em>optional</em>) – Lambda value of the wavelet term, defaults to None</p></li>
<li><p><strong>use_defocus</strong> (<em>float</em><em>, </em><em>optional</em>) – Weight of defocus cues, defaults to 1.0</p></li>
<li><p><strong>use_correspondence</strong> (<em>float</em><em>, </em><em>optional</em>) – Weight of corresponence cues, defaults to 1.0</p></li>
<li><p><strong>use_xcorrelation</strong> (<em>float</em><em>, </em><em>optional</em>) – Weight of the cross-correlation cues, defaults to 0.0</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – In case of requested wavelet regularization but not available</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The depth map</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><cite>numpy.array_like</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="plenoptomos.depth.get_distances">
<span class="sig-prename descclassname"><span class="pre">plenoptomos.depth.</span></span><span class="sig-name descname"><span class="pre">get_distances</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/depth.html#get_distances"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.depth.get_distances" title="Permalink to this definition"></a></dt>
<dd><p>Convert depth map indices into distances</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dm</strong> (<em>numpy.array_like</em>) – the depth map</p></li>
<li><p><strong>zs</strong> (<em>numpy.array_like</em>) – the corresponding distances in the depth map</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the depth-map containing the real distances</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.array_like</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-plenoptomos.import_lf">
<span id="plenoptomos-import-lf-module"></span><h2>plenoptomos.import_lf module<a class="headerlink" href="#module-plenoptomos.import_lf" title="Permalink to this headline"></a></h2>
<p>This module contains the import functions for external light-field data formats.</p>
<p>&#64;author: Nicola VIGANÒ, Computational Imaging group, CWI, The Netherlands,
and ESRF - The European Synchrotron, Grenoble, France</p>
<p>Created on Mon Feb 18 16:08:43 2019</p>
<dl class="py function">
<dt class="sig sig-object py" id="plenoptomos.import_lf.from_flexray">
<span class="sig-prename descclassname"><span class="pre">plenoptomos.import_lf.</span></span><span class="sig-name descname"><span class="pre">from_flexray</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">dset_path</span></em>, <em class="sig-param"><span class="pre">crop_fixed_det=True</span></em>, <em class="sig-param"><span class="pre">normalize_flats=False</span></em>, <em class="sig-param"><span class="pre">plot_lf=False</span></em>, <em class="sig-param"><span class="pre">data_type=&lt;class</span> <span class="pre">'numpy.float32'&gt;</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/import_lf.html#from_flexray"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.import_lf.from_flexray" title="Permalink to this definition"></a></dt>
<dd><p>Imports light-fields from FleXray scanner data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dset_path</strong> (<em>string</em>) – Directory of the sub-aperture images (containing a .ini file)</p></li>
<li><p><strong>crop_fixed_det</strong> (<em>boolean</em><em>, </em><em>optional</em>) – Crops the images, in case of fixed detector acquisitions, defaults to True</p></li>
<li><p><strong>normalize_flats</strong> (<em>boolean</em><em>, </em><em>optional</em>) – Renormalizes the flats to same total intensity, defaults to False</p></li>
<li><p><strong>plot_lf</strong> (<em>boolean</em><em>, </em><em>optional</em>) – Displays the loaded light-field, defaults to False</p></li>
<li><p><strong>data_type</strong> (<cite>numpy.dtype</cite>, optional) – Datatype of the output light-field data, defaults to np.float32</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The imported light-field datastructure</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#plenoptomos.lightfield.Lightfield" title="plenoptomos.lightfield.Lightfield">lightfield.Lightfield</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="plenoptomos.import_lf.from_lytro">
<span class="sig-prename descclassname"><span class="pre">plenoptomos.import_lf.</span></span><span class="sig-name descname"><span class="pre">from_lytro</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">data_path</span></em>, <em class="sig-param"><span class="pre">fname_json</span></em>, <em class="sig-param"><span class="pre">source='warp'</span></em>, <em class="sig-param"><span class="pre">mode='grayscale'</span></em>, <em class="sig-param"><span class="pre">rgb2gs_mode='luma'</span></em>, <em class="sig-param"><span class="pre">binning=1</span></em>, <em class="sig-param"><span class="pre">data_type=&lt;class</span> <span class="pre">'numpy.float32'&gt;</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/import_lf.html#from_lytro"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.import_lf.from_lytro" title="Permalink to this definition"></a></dt>
<dd><p>Imports either the ESLF or warp image light-fields acquired with Lytro cameras.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data_path</strong> – Either the path of the ESLF file or the directory of the warp images (string)</p></li>
<li><p><strong>fname_json</strong> – Path of the metadata public json file (string)</p></li>
<li><p><strong>source</strong> – Format of the lytro data. Options: {‘warp’}, ‘eslf’ (string)</p></li>
<li><p><strong>mode</strong> – Switch between grayscale and RGB. Options: {‘grayscale’}, ‘rgb’ (string)</p></li>
<li><p><strong>rgb2gs_mode</strong> – RGB -&gt; grayscale conversion method. Options: {‘luma’}, ‘flat’ (string)</p></li>
<li><p><strong>binning</strong> – Binning of the input images, used to reduce their size and resolution (int, default: 1)</p></li>
<li><p><strong>data_type</strong> – Datatype of the output light-field data (np.dtype)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The imported light-field datastructure</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#plenoptomos.lightfield.Lightfield" title="plenoptomos.lightfield.Lightfield">lightfield.Lightfield</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="plenoptomos.import_lf.from_stanford_archive">
<span class="sig-prename descclassname"><span class="pre">plenoptomos.import_lf.</span></span><span class="sig-name descname"><span class="pre">from_stanford_archive</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">dataset_path</span></em>, <em class="sig-param"><span class="pre">mode='grayscale'</span></em>, <em class="sig-param"><span class="pre">rgb2gs_mode='luma'</span></em>, <em class="sig-param"><span class="pre">binning=1</span></em>, <em class="sig-param"><span class="pre">data_type=&lt;class</span> <span class="pre">'numpy.float32'&gt;</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/import_lf.html#from_stanford_archive"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.import_lf.from_stanford_archive" title="Permalink to this definition"></a></dt>
<dd><p>Imports light-fields from the Stanford archive.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset_path</strong> – Directory of the sub-aperture images (containing a json metadata file) (string)</p></li>
<li><p><strong>mode</strong> – Switch between grayscale and RGB. Options: {‘grayscale’}, ‘rgb’ (string)</p></li>
<li><p><strong>rgb2gs_mode</strong> – RGB -&gt; grayscale conversion method. Options: {‘luma’}, ‘flat’ (string)</p></li>
<li><p><strong>binning</strong> – Binning of the input images, used to reduce their size and resolution (int, default: 1)</p></li>
<li><p><strong>data_type</strong> – Datatype of the output light-field data (np.dtype)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The imported light-field datastructure</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#plenoptomos.lightfield.Lightfield" title="plenoptomos.lightfield.Lightfield">lightfield.Lightfield</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="plenoptomos.import_lf.lytro_create_warps">
<span class="sig-prename descclassname"><span class="pre">plenoptomos.import_lf.</span></span><span class="sig-name descname"><span class="pre">lytro_create_warps</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/import_lf.html#lytro_create_warps"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.import_lf.lytro_create_warps" title="Permalink to this definition"></a></dt>
<dd><p>Utility function to create warp images using Lytro’s powertools and the
corresponding json file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>file_path</strong> – The path to the .lfp file (string)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="plenoptomos.import_lf.lytro_read_metadata">
<span class="sig-prename descclassname"><span class="pre">plenoptomos.import_lf.</span></span><span class="sig-name descname"><span class="pre">lytro_read_metadata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fname_json</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/import_lf.html#lytro_read_metadata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.import_lf.lytro_read_metadata" title="Permalink to this definition"></a></dt>
<dd><p>Reads the Lytro ILLUM metadata from the json file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fname_json</strong> – The path to the .json file (string)</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The camera object</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#plenoptomos.lightfield.Camera" title="plenoptomos.lightfield.Camera">lightfield.Camera</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="plenoptomos.import_lf.read_image">
<span class="sig-prename descclassname"><span class="pre">plenoptomos.import_lf.</span></span><span class="sig-name descname"><span class="pre">read_image</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">img_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_type</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/import_lf.html#read_image"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.import_lf.read_image" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-plenoptomos.lightfield">
<span id="plenoptomos-lightfield-module"></span><h2>plenoptomos.lightfield module<a class="headerlink" href="#module-plenoptomos.lightfield" title="Permalink to this headline"></a></h2>
<p>This module implements two important data containers: the data container
‘Lightfield’ and the metadata container ‘Camera’.
They are used throughout the entire package for interpreting and performing low
level manipulation of the raw light-field data.</p>
<p>&#64;author: Nicola VIGANÒ, Computational Imaging group, CWI, The Netherlands,
and ESRF - The European Synchrotron, Grenoble, France</p>
<p>Created on Wed Mar  1 16:08:17 2017</p>
<dl class="py class">
<dt class="sig sig-object py" id="plenoptomos.lightfield.Camera">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">plenoptomos.lightfield.</span></span><span class="sig-name descname"><span class="pre">Camera</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'unknown'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/lightfield.html#Camera"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.lightfield.Camera" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class that holds the metadata needed to interpret light-field data</p>
<dl class="py method">
<dt class="sig sig-object py" id="plenoptomos.lightfield.Camera.clone">
<span class="sig-name descname"><span class="pre">clone</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/lightfield.html#Camera.clone"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.lightfield.Camera.clone" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plenoptomos.lightfield.Camera.crop">
<span class="sig-name descname"><span class="pre">crop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">crop_size_ts</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">crop_size_vu</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/lightfield.html#Camera.crop"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.lightfield.Camera.crop" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plenoptomos.lightfield.Camera.get_alphas">
<span class="sig-name descname"><span class="pre">get_alphas</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">alphas</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">beam_geometry_in</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'cone'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">beam_geometry_out</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'parallel'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/lightfield.html#Camera.get_alphas"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.lightfield.Camera.get_alphas" title="Permalink to this definition"></a></dt>
<dd><p>Converts the refocusing alphas between beam geometries</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>alphas</strong> – Sequence of alpha values as numpy array (numpy.array_like)</p></li>
<li><p><strong>beam_geometry_in</strong> – Beam shape of the input alphas. Options: ‘parallel’ | ‘cone’ (string)</p></li>
<li><p><strong>beam_geometry_out</strong> – Beam shape of the output alphas. Options: ‘parallel’ | ‘cone’ (string)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The converted alphas</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>(numpy.array_like)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plenoptomos.lightfield.Camera.get_distance_domain">
<span class="sig-name descname"><span class="pre">get_distance_domain</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/lightfield.html#Camera.get_distance_domain"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.lightfield.Camera.get_distance_domain" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plenoptomos.lightfield.Camera.get_f1">
<span class="sig-name descname"><span class="pre">get_f1</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">z0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/lightfield.html#Camera.get_f1"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.lightfield.Camera.get_f1" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plenoptomos.lightfield.Camera.get_filter">
<span class="sig-name descname"><span class="pre">get_filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">alpha</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bandwidth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.04</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">beam_geometry</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'parallel'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">domain</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'object'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">oversampling</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/lightfield.html#Camera.get_filter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.lightfield.Camera.get_filter" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plenoptomos.lightfield.Camera.get_focused_distance">
<span class="sig-name descname"><span class="pre">get_focused_distance</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/lightfield.html#Camera.get_focused_distance"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.lightfield.Camera.get_focused_distance" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plenoptomos.lightfield.Camera.get_focused_patch_size">
<span class="sig-name descname"><span class="pre">get_focused_patch_size</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/lightfield.html#Camera.get_focused_patch_size"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.lightfield.Camera.get_focused_patch_size" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plenoptomos.lightfield.Camera.get_grid_points">
<span class="sig-name descname"><span class="pre">get_grid_points</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">space</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'direct'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">domain</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'object'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">oversampling</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/lightfield.html#Camera.get_grid_points"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.lightfield.Camera.get_grid_points" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plenoptomos.lightfield.Camera.get_number_of_subaperture_images">
<span class="sig-name descname"><span class="pre">get_number_of_subaperture_images</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/lightfield.html#Camera.get_number_of_subaperture_images"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.lightfield.Camera.get_number_of_subaperture_images" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plenoptomos.lightfield.Camera.get_raw_detector_size">
<span class="sig-name descname"><span class="pre">get_raw_detector_size</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/lightfield.html#Camera.get_raw_detector_size"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.lightfield.Camera.get_raw_detector_size" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plenoptomos.lightfield.Camera.get_sampling_renorm_factor">
<span class="sig-name descname"><span class="pre">get_sampling_renorm_factor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">alpha</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">space</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'direct'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">beam_geometry</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'parallel'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">domain</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'object'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/lightfield.html#Camera.get_sampling_renorm_factor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.lightfield.Camera.get_sampling_renorm_factor" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plenoptomos.lightfield.Camera.get_scales">
<span class="sig-name descname"><span class="pre">get_scales</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">space</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'direct'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">domain</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'object'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/lightfield.html#Camera.get_scales"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.lightfield.Camera.get_scales" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plenoptomos.lightfield.Camera.get_sheared_coords">
<span class="sig-name descname"><span class="pre">get_sheared_coords</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">alpha</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">space</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'direct'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">beam_geometry</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'parallel'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">domain</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'object'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transformation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'shear'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">oversampling</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/lightfield.html#Camera.get_sheared_coords"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.lightfield.Camera.get_sheared_coords" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plenoptomos.lightfield.Camera.get_sigmatau_grid_points">
<span class="sig-name descname"><span class="pre">get_sigmatau_grid_points</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">space</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'direct'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">domain</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'object'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/lightfield.html#Camera.get_sigmatau_grid_points"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.lightfield.Camera.get_sigmatau_grid_points" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plenoptomos.lightfield.Camera.get_sigmatau_scales">
<span class="sig-name descname"><span class="pre">get_sigmatau_scales</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">space</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'direct'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">domain</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'object'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/lightfield.html#Camera.get_sigmatau_scales"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.lightfield.Camera.get_sigmatau_scales" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plenoptomos.lightfield.Camera.get_theo_flatfield_raw">
<span class="sig-name descname"><span class="pre">get_theo_flatfield_raw</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">data_type=&lt;class</span> <span class="pre">'numpy.float32'&gt;</span></em>, <em class="sig-param"><span class="pre">over_sampling=5</span></em>, <em class="sig-param"><span class="pre">mode='micro-image'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/lightfield.html#Camera.get_theo_flatfield_raw"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.lightfield.Camera.get_theo_flatfield_raw" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plenoptomos.lightfield.Camera.is_focused">
<span class="sig-name descname"><span class="pre">is_focused</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/lightfield.html#Camera.is_focused"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.lightfield.Camera.is_focused" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plenoptomos.lightfield.Camera.plot_phase_space_diagram">
<span class="sig-name descname"><span class="pre">plot_phase_space_diagram</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">coordinates</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'su'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_central_images</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/lightfield.html#Camera.plot_phase_space_diagram"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.lightfield.Camera.plot_phase_space_diagram" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plenoptomos.lightfield.Camera.print">
<span class="sig-name descname"><span class="pre">print</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/lightfield.html#Camera.print"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.lightfield.Camera.print" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plenoptomos.lightfield.Camera.regrid">
<span class="sig-name descname"><span class="pre">regrid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">regrid_size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">regrid_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'interleave'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/lightfield.html#Camera.regrid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.lightfield.Camera.regrid" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="plenoptomos.lightfield.Lightfield">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">plenoptomos.lightfield.</span></span><span class="sig-name descname"><span class="pre">Lightfield</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">camera_type:</span> <span class="pre">plenoptomos.lightfield.Camera</span></em>, <em class="sig-param"><span class="pre">data=None</span></em>, <em class="sig-param"><span class="pre">flat=None</span></em>, <em class="sig-param"><span class="pre">mask=None</span></em>, <em class="sig-param"><span class="pre">mode='micro-image'</span></em>, <em class="sig-param"><span class="pre">dtype=&lt;class</span> <span class="pre">'numpy.float32'&gt;</span></em>, <em class="sig-param"><span class="pre">shifts_vu=(None</span></em>, <em class="sig-param"><span class="pre">None)</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/lightfield.html#Lightfield"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.lightfield.Lightfield" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Container class for the light-fields</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="plenoptomos.lightfield.Lightfield.aliases_modes">
<span class="sig-name descname"><span class="pre">aliases_modes</span></span><em class="property"> <span class="pre">=</span> <span class="pre">('mi',</span> <span class="pre">'sa',</span> <span class="pre">'es',</span> <span class="pre">'et')</span></em><a class="headerlink" href="#plenoptomos.lightfield.Lightfield.aliases_modes" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="plenoptomos.lightfield.Lightfield.available_modes">
<span class="sig-name descname"><span class="pre">available_modes</span></span><em class="property"> <span class="pre">=</span> <span class="pre">('micro-image',</span> <span class="pre">'sub-aperture',</span> <span class="pre">'epipolar_s',</span> <span class="pre">'epipolar_t')</span></em><a class="headerlink" href="#plenoptomos.lightfield.Lightfield.available_modes" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plenoptomos.lightfield.Lightfield.clone">
<span class="sig-name descname"><span class="pre">clone</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/lightfield.html#Lightfield.clone"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.lightfield.Lightfield.clone" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="plenoptomos.lightfield.Lightfield.convention_modes">
<span class="sig-name descname"><span class="pre">convention_modes</span></span><em class="property"> <span class="pre">=</span> <span class="pre">('tsvu',</span> <span class="pre">'vuts',</span> <span class="pre">'tuvs',</span> <span class="pre">'vstu')</span></em><a class="headerlink" href="#plenoptomos.lightfield.Lightfield.convention_modes" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="plenoptomos.lightfield.Lightfield.convention_raw">
<span class="sig-name descname"><span class="pre">convention_raw</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'tvsu'</span></em><a class="headerlink" href="#plenoptomos.lightfield.Lightfield.convention_raw" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plenoptomos.lightfield.Lightfield.crop">
<span class="sig-name descname"><span class="pre">crop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">crop_size_ts</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">crop_size_vu</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/lightfield.html#Lightfield.crop"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.lightfield.Lightfield.crop" title="Permalink to this definition"></a></dt>
<dd><p>Crop a light-field</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>crop_size_ts</strong> – Either new size in the (t, s) coordinates or a ROI (&lt;2x1&gt; or &lt;4x1&gt; numpy.array_like)</p></li>
<li><p><strong>crop_size_vu</strong> – Either new size in the (v, u) coordinates or a ROI (&lt;2x1&gt; or &lt;4x1&gt; numpy.array_like)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plenoptomos.lightfield.Lightfield.get_central_subaperture">
<span class="sig-name descname"><span class="pre">get_central_subaperture</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">origin_vu</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/lightfield.html#Lightfield.get_central_subaperture"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.lightfield.Lightfield.get_central_subaperture" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plenoptomos.lightfield.Lightfield.get_mode_permutation">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">get_mode_permutation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">old_mode</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_mode</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/lightfield.html#Lightfield.get_mode_permutation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.lightfield.Lightfield.get_mode_permutation" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plenoptomos.lightfield.Lightfield.get_photograph">
<span class="sig-name descname"><span class="pre">get_photograph</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'data'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/lightfield.html#Lightfield.get_photograph"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.lightfield.Lightfield.get_photograph" title="Permalink to this definition"></a></dt>
<dd><p>Computes the refocused photograph at z0</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>image</strong> – Selects whether we want the detector data, or the flat image (string)</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The refocused photograph at z0</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.array_like</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plenoptomos.lightfield.Lightfield.get_raw_detector_picture">
<span class="sig-name descname"><span class="pre">get_raw_detector_picture</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'data'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/lightfield.html#Lightfield.get_raw_detector_picture"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.lightfield.Lightfield.get_raw_detector_picture" title="Permalink to this definition"></a></dt>
<dd><p>Returns the detector data, or the flat image in the raw detector format</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>image</strong> – Selects whether we want the detector data, or the flat image (string)</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The requested image</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.array_like</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plenoptomos.lightfield.Lightfield.get_sub_aperture_image">
<span class="sig-name descname"><span class="pre">get_sub_aperture_image</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">v</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">u</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'data'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/lightfield.html#Lightfield.get_sub_aperture_image"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.lightfield.Lightfield.get_sub_aperture_image" title="Permalink to this definition"></a></dt>
<dd><p>Returns a chosen sub-aperture image from either detector data, or
the flat field</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>u</strong> – U coordinate of the image (int)</p></li>
<li><p><strong>v</strong> – V coordinate of the image (int)</p></li>
<li><p><strong>image</strong> – Selects whether we want the detector data, or the flat image (string)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The requested image</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.array_like</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plenoptomos.lightfield.Lightfield.get_sub_aperture_images">
<span class="sig-name descname"><span class="pre">get_sub_aperture_images</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'data'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/lightfield.html#Lightfield.get_sub_aperture_images"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.lightfield.Lightfield.get_sub_aperture_images" title="Permalink to this definition"></a></dt>
<dd><p>Returns all the sub-aperture images from either detector data, or
the flat field</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>image</strong> – Selects whether we want the detector data, or the flat image (string)</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The requested image</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.array_like</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plenoptomos.lightfield.Lightfield.get_sub_lightfield">
<span class="sig-name descname"><span class="pre">get_sub_lightfield</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">center_u</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center_v</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sub_aperture_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/lightfield.html#Lightfield.get_sub_lightfield"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.lightfield.Lightfield.get_sub_lightfield" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plenoptomos.lightfield.Lightfield.get_sub_lightfields">
<span class="sig-name descname"><span class="pre">get_sub_lightfields</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sub_aperture_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/lightfield.html#Lightfield.get_sub_lightfields"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.lightfield.Lightfield.get_sub_lightfields" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plenoptomos.lightfield.Lightfield.pad">
<span class="sig-name descname"><span class="pre">pad</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">paddings</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'constant'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pad_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0,)</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/lightfield.html#Lightfield.pad"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.lightfield.Lightfield.pad" title="Permalink to this definition"></a></dt>
<dd><p>Pad a light-field</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>paddings</strong> – Padding to add (&lt;4x1&gt; numpy.array_like)</p></li>
<li><p><strong>method</strong> – Padding method. Possible values: ‘constant’ | ‘edge’ | ‘linear_ramp’
| ‘maximum’ | ‘mean’ | ‘median’ | ‘minimum’ | ‘reflect’ | ‘symmetric’ | ‘wrap’ (string)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plenoptomos.lightfield.Lightfield.regrid">
<span class="sig-name descname"><span class="pre">regrid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">regrid_size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">regrid_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'interleave'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/lightfield.html#Lightfield.regrid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.lightfield.Lightfield.regrid" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plenoptomos.lightfield.Lightfield.set_mode">
<span class="sig-name descname"><span class="pre">set_mode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_mode</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/lightfield.html#Lightfield.set_mode"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.lightfield.Lightfield.set_mode" title="Permalink to this definition"></a></dt>
<dd><p>Set the required view for the given light-field object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>new_mode</strong> – One of the following: {‘micro-image’, ‘sub-aperture’, ‘epipolar_s’, ‘epipolar_t’} (string)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plenoptomos.lightfield.Lightfield.set_mode_epipolar_s">
<span class="sig-name descname"><span class="pre">set_mode_epipolar_s</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/lightfield.html#Lightfield.set_mode_epipolar_s"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.lightfield.Lightfield.set_mode_epipolar_s" title="Permalink to this definition"></a></dt>
<dd><p>Set the ‘epipolar_s’ mode</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plenoptomos.lightfield.Lightfield.set_mode_epipolar_t">
<span class="sig-name descname"><span class="pre">set_mode_epipolar_t</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/lightfield.html#Lightfield.set_mode_epipolar_t"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.lightfield.Lightfield.set_mode_epipolar_t" title="Permalink to this definition"></a></dt>
<dd><p>Set the ‘epipolar_t’ mode</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plenoptomos.lightfield.Lightfield.set_mode_microimage">
<span class="sig-name descname"><span class="pre">set_mode_microimage</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/lightfield.html#Lightfield.set_mode_microimage"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.lightfield.Lightfield.set_mode_microimage" title="Permalink to this definition"></a></dt>
<dd><p>Set the ‘micro-image’ mode</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plenoptomos.lightfield.Lightfield.set_mode_subaperture">
<span class="sig-name descname"><span class="pre">set_mode_subaperture</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/lightfield.html#Lightfield.set_mode_subaperture"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.lightfield.Lightfield.set_mode_subaperture" title="Permalink to this definition"></a></dt>
<dd><p>Set the ‘sub-aperture’ image mode</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plenoptomos.lightfield.Lightfield.set_raw_detector_picture">
<span class="sig-name descname"><span class="pre">set_raw_detector_picture</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_raw</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'data'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/lightfield.html#Lightfield.set_raw_detector_picture"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.lightfield.Lightfield.set_raw_detector_picture" title="Permalink to this definition"></a></dt>
<dd><p>Sets the detector data, or the flat image from an image in raw
detector format</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data_raw</strong> – The new detector image (numpy.array_like)</p></li>
<li><p><strong>image</strong> – Selects whether we want the detector data, or the flat image (string)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="plenoptomos.lightfield.cm2inch">
<span class="sig-prename descclassname"><span class="pre">plenoptomos.lightfield.</span></span><span class="sig-name descname"><span class="pre">cm2inch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/lightfield.html#cm2inch"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.lightfield.cm2inch" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="plenoptomos.lightfield.get_camera">
<span class="sig-prename descclassname"><span class="pre">plenoptomos.lightfield.</span></span><span class="sig-name descname"><span class="pre">get_camera</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">down_sampling_st</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">down_sampling_uv</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/lightfield.html#get_camera"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.lightfield.get_camera" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-plenoptomos.psf">
<span id="plenoptomos-psf-module"></span><h2>plenoptomos.psf module<a class="headerlink" href="#module-plenoptomos.psf" title="Permalink to this headline"></a></h2>
<p>This module implements the point spread function (PSF) handling routines.</p>
<p>&#64;author: Nicola VIGANÒ, Computational Imaging group, CWI, The Netherlands,
and ESRF - The European Synchrotron, Grenoble, France</p>
<p>Created on Tue Oct 10 18:31:14 2017</p>
<dl class="py class">
<dt class="sig sig-object py" id="plenoptomos.psf.PSF">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">plenoptomos.psf.</span></span><span class="sig-name descname"><span class="pre">PSF</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">camera:</span> <span class="pre">plenoptomos.lightfield.Camera</span></em>, <em class="sig-param"><span class="pre">coordinates:</span> <span class="pre">str</span></em>, <em class="sig-param"><span class="pre">airy_rings:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">2</span></em>, <em class="sig-param"><span class="pre">wavelength_intensity:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">1</span></em>, <em class="sig-param"><span class="pre">refocus_distance:</span> <span class="pre">Optional[float]</span> <span class="pre">=</span> <span class="pre">None</span></em>, <em class="sig-param"><span class="pre">up_sampling:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">1</span></em>, <em class="sig-param"><span class="pre">is_beam_coherent:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">False</span></em>, <em class="sig-param"><span class="pre">over_sampling:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">25</span></em>, <em class="sig-param"><span class="pre">wavelength_steps:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">10</span></em>, <em class="sig-param"><span class="pre">beam_transverse_shape:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">'circle'</span></em>, <em class="sig-param"><span class="pre">data_type:</span> <span class="pre">numpy.floating</span> <span class="pre">=</span> <span class="pre">&lt;class</span> <span class="pre">'numpy.float32'&gt;</span></em>, <em class="sig-param"><span class="pre">plot:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/psf.html#PSF"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.psf.PSF" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Data class that allows to store n-dimensional PSFs, and their accompanying information.</p>
<dl class="py method">
<dt class="sig sig-object py" id="plenoptomos.psf.PSF.clone">
<span class="sig-name descname"><span class="pre">clone</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/psf.html#PSF.clone"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.psf.PSF.clone" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plenoptomos.psf.PSF.compute_defocus_psf">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">compute_defocus_psf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">norm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/psf.html#PSF.compute_defocus_psf"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.psf.PSF.compute_defocus_psf" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plenoptomos.psf.PSF.compute_fraunhofer_psf">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">compute_fraunhofer_psf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">d</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pixel_size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ls</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/psf.html#PSF.compute_fraunhofer_psf"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.psf.PSF.compute_fraunhofer_psf" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plenoptomos.psf.PSF.get_unit_length">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">get_unit_length</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">unit_length</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/psf.html#PSF.get_unit_length"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.psf.PSF.get_unit_length" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plenoptomos.psf.PSF.plot">
<span class="sig-name descname"><span class="pre">plot</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/psf.html#PSF.plot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.psf.PSF.plot" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="plenoptomos.psf.PSFApply">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">plenoptomos.psf.</span></span><span class="sig-name descname"><span class="pre">PSFApply</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">psf_d</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">img_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_otf</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_fftconv</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/psf.html#PSFApply"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.psf.PSFApply" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class PSFApply handles all PSF/OTF applications</p>
<dl class="py method">
<dt class="sig sig-object py" id="plenoptomos.psf.PSFApply.apply_psf_adjoint">
<span class="sig-name descname"><span class="pre">apply_psf_adjoint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">imgs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/psf.html#PSFApply.apply_psf_adjoint"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.psf.PSFApply.apply_psf_adjoint" title="Permalink to this definition"></a></dt>
<dd><p>Applies the adjoint of the PSF to the given images</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>imgs</strong> (<em>numpy.array_like</em>) – The incoming images</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The convolution between the images and the adjoint of the PSF</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.array_like</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plenoptomos.psf.PSFApply.apply_psf_direct">
<span class="sig-name descname"><span class="pre">apply_psf_direct</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">imgs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/psf.html#PSFApply.apply_psf_direct"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.psf.PSFApply.apply_psf_direct" title="Permalink to this definition"></a></dt>
<dd><p>Applies the PSF to the given images</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>imgs</strong> (<em>numpy.array_like</em>) – The incoming images</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The convolution between the images and the PSF</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.array_like</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plenoptomos.psf.PSFApply.deconvolve">
<span class="sig-name descname"><span class="pre">deconvolve</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">imgs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iterations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_term</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'l2'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lambda_wl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lambda_tv</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lower_limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">upper_limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/psf.html#PSFApply.deconvolve"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.psf.PSFApply.deconvolve" title="Permalink to this definition"></a></dt>
<dd><p>Uses iterative algorithms to deconvolve the PSF from the given images</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>imgs</strong> (<em>numpy.array_like</em>) – The incoming images</p></li>
<li><p><strong>iterations</strong> (<em>int</em><em>, </em><em>optional</em>) – The number of reconstruciton iterations, defaults to 100</p></li>
<li><p><strong>data_term</strong> (<em>str</em><em>, </em><em>optional</em>) – Data consistency term used by the wl recosntruction. Options: ‘l2’ | ‘kl’, defaults to ‘l2’</p></li>
<li><p><strong>lambda_wl</strong> (<em>float</em><em>, </em><em>optional. If None is passed</em><em>, </em><em>the SIRT algorithm will be used instead.</em>) – Weight factor for the wavelet deconvolution, defaults to None</p></li>
<li><p><strong>lambda_tv</strong> (<em>float</em><em>, </em><em>optional. If None is passed</em><em>, </em><em>the SIRT algorithm will be used instead</em>) – Weight factor for the TV term, defaults to None</p></li>
<li><p><strong>lower_limit</strong> (<em>float</em><em>, </em><em>optional</em>) – Lower clipping value, defaults to None</p></li>
<li><p><strong>upper_limit</strong> (<em>float</em><em>, </em><em>optional</em>) – Upper clipping value, defaults to None</p></li>
<li><p><strong>verbose</strong> (<em>boolean</em><em>, </em><em>optional</em>) – Enable messages, defaults to False</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The deconvolution of the images</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.array_like</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plenoptomos.psf.PSFApply.print">
<span class="sig-name descname"><span class="pre">print</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/psf.html#PSFApply.print"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.psf.PSFApply.print" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plenoptomos.psf.PSFApply.set_psf_direct">
<span class="sig-name descname"><span class="pre">set_psf_direct</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">psf_d</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">img_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/psf.html#PSFApply.set_psf_direct"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.psf.PSFApply.set_psf_direct" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="plenoptomos.psf.PSFApply2D">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">plenoptomos.psf.</span></span><span class="sig-name descname"><span class="pre">PSFApply2D</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">psf_d</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">img_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_otf</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_fftconv</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/psf.html#PSFApply2D"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.psf.PSFApply2D" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#plenoptomos.psf.PSFApply" title="plenoptomos.psf.PSFApply"><code class="xref py py-class docutils literal notranslate"><span class="pre">plenoptomos.psf.PSFApply</span></code></a></p>
<p>Class PSFApply2D handles all PSF applications and</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="plenoptomos.psf.PSFApply4D">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">plenoptomos.psf.</span></span><span class="sig-name descname"><span class="pre">PSFApply4D</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">psf_d</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">img_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_otf</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_fftconv</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/psf.html#PSFApply4D"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.psf.PSFApply4D" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#plenoptomos.psf.PSFApply" title="plenoptomos.psf.PSFApply"><code class="xref py py-class docutils literal notranslate"><span class="pre">plenoptomos.psf.PSFApply</span></code></a></p>
<p>Class PSFApply4D handles all PSF applications and</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="plenoptomos.psf.PSFParameters">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">plenoptomos.psf.</span></span><span class="sig-name descname"><span class="pre">PSFParameters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">airy_rings:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">2</span></em>, <em class="sig-param"><span class="pre">over_sampling:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">25</span></em>, <em class="sig-param"><span class="pre">is_beam_coherent:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">False</span></em>, <em class="sig-param"><span class="pre">wavelength_intensity:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">1</span></em>, <em class="sig-param"><span class="pre">pixels_defocus:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">None</span></em>, <em class="sig-param"><span class="pre">refocus_distance:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">None</span></em>, <em class="sig-param"><span class="pre">guarantee_pixel_multiple:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">1</span></em>, <em class="sig-param"><span class="pre">beam_transverse_shape:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">'circle'</span></em>, <em class="sig-param"><span class="pre">data_type:</span> <span class="pre">numpy.floating</span> <span class="pre">=</span> <span class="pre">&lt;class</span> <span class="pre">'numpy.float32'&gt;</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/psf.html#PSFParameters"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.psf.PSFParameters" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="plenoptomos.psf.PSFParameters.airy_rings">
<span class="sig-name descname"><span class="pre">airy_rings</span></span><em class="property"><span class="pre">:</span> <span class="pre">int</span></em><em class="property"> <span class="pre">=</span> <span class="pre">2</span></em><a class="headerlink" href="#plenoptomos.psf.PSFParameters.airy_rings" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="plenoptomos.psf.PSFParameters.beam_transverse_shape">
<span class="sig-name descname"><span class="pre">beam_transverse_shape</span></span><em class="property"><span class="pre">:</span> <span class="pre">str</span></em><em class="property"> <span class="pre">=</span> <span class="pre">'circle'</span></em><a class="headerlink" href="#plenoptomos.psf.PSFParameters.beam_transverse_shape" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="plenoptomos.psf.PSFParameters.data_type">
<span class="sig-name descname"><span class="pre">data_type</span></span><a class="headerlink" href="#plenoptomos.psf.PSFParameters.data_type" title="Permalink to this definition"></a></dt>
<dd><p>alias of <code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.float32</span></code></p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="plenoptomos.psf.PSFParameters.guarantee_pixel_multiple">
<span class="sig-name descname"><span class="pre">guarantee_pixel_multiple</span></span><em class="property"><span class="pre">:</span> <span class="pre">int</span></em><em class="property"> <span class="pre">=</span> <span class="pre">1</span></em><a class="headerlink" href="#plenoptomos.psf.PSFParameters.guarantee_pixel_multiple" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="plenoptomos.psf.PSFParameters.is_beam_coherent">
<span class="sig-name descname"><span class="pre">is_beam_coherent</span></span><em class="property"><span class="pre">:</span> <span class="pre">bool</span></em><em class="property"> <span class="pre">=</span> <span class="pre">False</span></em><a class="headerlink" href="#plenoptomos.psf.PSFParameters.is_beam_coherent" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="plenoptomos.psf.PSFParameters.over_sampling">
<span class="sig-name descname"><span class="pre">over_sampling</span></span><em class="property"><span class="pre">:</span> <span class="pre">int</span></em><em class="property"> <span class="pre">=</span> <span class="pre">25</span></em><a class="headerlink" href="#plenoptomos.psf.PSFParameters.over_sampling" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="plenoptomos.psf.PSFParameters.pixels_defocus">
<span class="sig-name descname"><span class="pre">pixels_defocus</span></span><em class="property"><span class="pre">:</span> <span class="pre">float</span></em><em class="property"> <span class="pre">=</span> <span class="pre">None</span></em><a class="headerlink" href="#plenoptomos.psf.PSFParameters.pixels_defocus" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="plenoptomos.psf.PSFParameters.refocus_distance">
<span class="sig-name descname"><span class="pre">refocus_distance</span></span><em class="property"><span class="pre">:</span> <span class="pre">float</span></em><em class="property"> <span class="pre">=</span> <span class="pre">None</span></em><a class="headerlink" href="#plenoptomos.psf.PSFParameters.refocus_distance" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="plenoptomos.psf.PSFParameters.wavelength_intensity">
<span class="sig-name descname"><span class="pre">wavelength_intensity</span></span><em class="property"><span class="pre">:</span> <span class="pre">float</span></em><em class="property"> <span class="pre">=</span> <span class="pre">1</span></em><a class="headerlink" href="#plenoptomos.psf.PSFParameters.wavelength_intensity" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-plenoptomos.refocus">
<span id="plenoptomos-refocus-module"></span><h2>plenoptomos.refocus module<a class="headerlink" href="#module-plenoptomos.refocus" title="Permalink to this headline"></a></h2>
<p>This module contains the implementation of the traditional reference refocusing algorithms.</p>
<p>&#64;author: Nicola VIGANÒ, Computational Imaging group, CWI, The Netherlands,
and ESRF - The European Synchrotron, Grenoble, France</p>
<p>Created on Thu Mar  2 18:48:28 2017</p>
<dl class="py function">
<dt class="sig sig-object py" id="plenoptomos.refocus.compute_refocus_fourier">
<span class="sig-prename descclassname"><span class="pre">plenoptomos.refocus.</span></span><span class="sig-name descname"><span class="pre">compute_refocus_fourier</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lf</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="#plenoptomos.lightfield.Lightfield" title="plenoptomos.lightfield.Lightfield"><span class="pre">plenoptomos.lightfield.Lightfield</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">zs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'slice'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">beam_geometry</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'parallel'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">domain</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'object'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">up_sampling</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">border</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">border_padding</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'edge'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">padding_factor</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1.1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">oversampling</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/refocus.html#compute_refocus_fourier"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.refocus.compute_refocus_fourier" title="Permalink to this definition"></a></dt>
<dd><p>Perform the refocusing of the input light field image using Fourier slice theorem method.</p>
<p>This method was presented in:
[1] R. Ng, “Fourier slice photography,” ACM Trans. Graph., vol. 24, no. 3, p. 735, 2005.</p>
<dl class="simple">
<dt>lf<span class="classifier">lightfield.Lightfield</span></dt><dd><p>The light-field object.</p>
</dd>
<dt>zs<span class="classifier">numpy.array_like</span></dt><dd><p>Refocusing distances.</p>
</dd>
<dt>method<span class="classifier">str, optional</span></dt><dd><p>Fourier space operation method. Options: ‘slice’ | ‘full’, ‘hyper_cone’. The default is “slice”.</p>
</dd>
<dt>beam_geometry<span class="classifier">str, optional</span></dt><dd><p>Beam geometry. Possible options: ‘parallel’ | ‘cone’. The default is “parallel”.</p>
</dd>
<dt>domain<span class="classifier">str, optional</span></dt><dd><p>Refocusing domain. Possible options: ‘object’ | ‘image’. The default is “object”.</p>
</dd>
<dt>up_sampling<span class="classifier">int, optional</span></dt><dd><p>Integer greater than 1 for up-sampling of the final images. The default is 1.</p>
</dd>
<dt>border<span class="classifier">int, optional</span></dt><dd><p>Number of pixels to extend the border and reduce darkening of edges. The default is 4.</p>
</dd>
<dt>border_padding<span class="classifier">str, optional</span></dt><dd><p>Border padding method. The default is “edge”.</p>
</dd>
<dt>padding_factor<span class="classifier">float, optional</span></dt><dd><p>Real-space padding factor. The default is 1.1.</p>
</dd>
<dt>oversampling<span class="classifier">float, optional</span></dt><dd><p>Fourier space oversampling factor. The default is 2.</p>
</dd>
</dl>
<dl class="simple">
<dt>ValueError</dt><dd><p>In case of wrong domain and beam geometry choices.</p>
</dd>
</dl>
<dl class="simple">
<dt>imgs<span class="classifier">numpy.array_like</span></dt><dd><p>Stack of 2D refocused images.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="plenoptomos.refocus.compute_refocus_integration">
<span class="sig-prename descclassname"><span class="pre">plenoptomos.refocus.</span></span><span class="sig-name descname"><span class="pre">compute_refocus_integration</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lf</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="#plenoptomos.lightfield.Lightfield" title="plenoptomos.lightfield.Lightfield"><span class="pre">plenoptomos.lightfield.Lightfield</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">zs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">beam_geometry</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'parallel'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">domain</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'object'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">up_sampling</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">border</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">border_padding</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'edge'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_multithreading</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/refocus.html#compute_refocus_integration"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.refocus.compute_refocus_integration" title="Permalink to this definition"></a></dt>
<dd><p>Perform the refocusing of the input light field image using the integration method.</p>
<p>This method was presented in:
[1] R. Ng, et al., “Light Field Photography with a Hand-held Plenoptic Camera,”
Stanford Univ. Tech. Rep. CSTR 2005-02, 2005.</p>
<dl class="simple">
<dt>lf<span class="classifier">lightfield.Lightfield</span></dt><dd><p>The light-field object.</p>
</dd>
<dt>zs<span class="classifier">numpy.array_like</span></dt><dd><p>Refocusing distances.</p>
</dd>
<dt>beam_geometry<span class="classifier">str, optional</span></dt><dd><p>Beam geometry. Possible options: ‘parallel’ | ‘cone’. The default is “parallel”.</p>
</dd>
<dt>domain<span class="classifier">str, optional</span></dt><dd><p>Refocusing domain. Possible options: ‘object’ | ‘image’. The default is “object”.</p>
</dd>
<dt>up_sampling<span class="classifier">int, optional</span></dt><dd><p>Integer greater than 1 for up-sampling of the final images. The default is 1.</p>
</dd>
<dt>border<span class="classifier">int, optional</span></dt><dd><p>Number of pixels to extend the border and reduce darkening of edges. The default is 4.</p>
</dd>
<dt>border_padding<span class="classifier">str, optional</span></dt><dd><p>Border padding method. The default is “edge”.</p>
</dd>
<dt>use_multithreading<span class="classifier">bool, optional</span></dt><dd><p>Whether to use multi-threading capabilities. The default is True.</p>
</dd>
</dl>
<dl class="simple">
<dt>ValueError</dt><dd><p>In case of wrong domain and beam geometry choices.</p>
</dd>
</dl>
<dl class="simple">
<dt>imgs<span class="classifier">numpy.array_like</span></dt><dd><p>Stack of 2D refocused images.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-plenoptomos.solvers">
<span id="plenoptomos-solvers-module"></span><h2>plenoptomos.solvers module<a class="headerlink" href="#module-plenoptomos.solvers" title="Permalink to this headline"></a></h2>
<p>This module implements a few different solvers from the tomography reconstruction literature.</p>
<p>&#64;author: Nicola VIGANÒ, Computational Imaging group, CWI, The Netherlands,
and ESRF - The European Synchrotron, Grenoble, France</p>
<p>Created on Wed Mar  8 11:27:12 2017</p>
<dl class="py class">
<dt class="sig sig-object py" id="plenoptomos.solvers.BPJ">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">plenoptomos.solvers.</span></span><span class="sig-name descname"><span class="pre">BPJ</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weight_det</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dump_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-05</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/solvers.html#BPJ"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.solvers.BPJ" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#plenoptomos.solvers.Solver" title="plenoptomos.solvers.Solver"><code class="xref py py-class docutils literal notranslate"><span class="pre">plenoptomos.solvers.Solver</span></code></a></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="plenoptomos.solvers.CP_smooth">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">plenoptomos.solvers.</span></span><span class="sig-name descname"><span class="pre">CP_smooth</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weight_det</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dump_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_term</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'l2'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lambda_d2</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.01</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/solvers.html#CP_smooth"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.solvers.CP_smooth" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#plenoptomos.solvers.Solver" title="plenoptomos.solvers.Solver"><code class="xref py py-class docutils literal notranslate"><span class="pre">plenoptomos.solvers.Solver</span></code></a>, <a class="reference internal" href="#plenoptomos.solvers.Operations" title="plenoptomos.solvers.Operations"><code class="xref py py-class docutils literal notranslate"><span class="pre">plenoptomos.solvers.Operations</span></code></a></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="plenoptomos.solvers.CP_tv">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">plenoptomos.solvers.</span></span><span class="sig-name descname"><span class="pre">CP_tv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weight_det</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dump_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_term</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'l2'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lambda_tv</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.01</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/solvers.html#CP_tv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.solvers.CP_tv" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#plenoptomos.solvers.Solver" title="plenoptomos.solvers.Solver"><code class="xref py py-class docutils literal notranslate"><span class="pre">plenoptomos.solvers.Solver</span></code></a>, <a class="reference internal" href="#plenoptomos.solvers.Operations" title="plenoptomos.solvers.Operations"><code class="xref py py-class docutils literal notranslate"><span class="pre">plenoptomos.solvers.Operations</span></code></a></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="plenoptomos.solvers.CP_uc">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">plenoptomos.solvers.</span></span><span class="sig-name descname"><span class="pre">CP_uc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weight_det</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dump_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_term</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'l2'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/solvers.html#CP_uc"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.solvers.CP_uc" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#plenoptomos.solvers.Solver" title="plenoptomos.solvers.Solver"><code class="xref py py-class docutils literal notranslate"><span class="pre">plenoptomos.solvers.Solver</span></code></a></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="plenoptomos.solvers.CP_wl">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">plenoptomos.solvers.</span></span><span class="sig-name descname"><span class="pre">CP_wl</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weight_det</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dump_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_term</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'l2'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lambda_wl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.01</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wl_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'db4'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_decimated</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decomp_lvl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/solvers.html#CP_wl"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.solvers.CP_wl" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#plenoptomos.solvers.Solver" title="plenoptomos.solvers.Solver"><code class="xref py py-class docutils literal notranslate"><span class="pre">plenoptomos.solvers.Solver</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="plenoptomos.solvers.CP_wl.initialize_wl_operators">
<span class="sig-name descname"><span class="pre">initialize_wl_operators</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/solvers.html#CP_wl.initialize_wl_operators"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.solvers.CP_wl.initialize_wl_operators" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="plenoptomos.solvers.Operations">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">plenoptomos.solvers.</span></span><span class="sig-name descname"><span class="pre">Operations</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/solvers.html#Operations"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.solvers.Operations" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="plenoptomos.solvers.Operations.divergence">
<span class="sig-name descname"><span class="pre">divergence</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/solvers.html#Operations.divergence"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.solvers.Operations.divergence" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plenoptomos.solvers.Operations.gradient">
<span class="sig-name descname"><span class="pre">gradient</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/solvers.html#Operations.gradient"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.solvers.Operations.gradient" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plenoptomos.solvers.Operations.laplacian">
<span class="sig-name descname"><span class="pre">laplacian</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/solvers.html#Operations.laplacian"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.solvers.Operations.laplacian" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="plenoptomos.solvers.Segment">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">plenoptomos.solvers.</span></span><span class="sig-name descname"><span class="pre">Segment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lambda_tv</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.01</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lambda_d2</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.01</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/solvers.html#Segment"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.solvers.Segment" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#plenoptomos.solvers.Solver" title="plenoptomos.solvers.Solver"><code class="xref py py-class docutils literal notranslate"><span class="pre">plenoptomos.solvers.Solver</span></code></a>, <a class="reference internal" href="#plenoptomos.solvers.Operations" title="plenoptomos.solvers.Operations"><code class="xref py py-class docutils literal notranslate"><span class="pre">plenoptomos.solvers.Operations</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="plenoptomos.solvers.Segment.levelset">
<span class="sig-name descname"><span class="pre">levelset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">im</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mus</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iterations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">50</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">w_norm_p</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_term</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'l1'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/solvers.html#Segment.levelset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.solvers.Segment.levelset" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plenoptomos.solvers.Segment.simple">
<span class="sig-name descname"><span class="pre">simple</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vol</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rhos</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/solvers.html#Segment.simple"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.solvers.Segment.simple" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="plenoptomos.solvers.Sirt">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">plenoptomos.solvers.</span></span><span class="sig-name descname"><span class="pre">Sirt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weight_det</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dump_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-05</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/solvers.html#Sirt"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.solvers.Sirt" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#plenoptomos.solvers.Solver" title="plenoptomos.solvers.Solver"><code class="xref py py-class docutils literal notranslate"><span class="pre">plenoptomos.solvers.Solver</span></code></a></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="plenoptomos.solvers.Solver">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">plenoptomos.solvers.</span></span><span class="sig-name descname"><span class="pre">Solver</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dump_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-05</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/solvers.html#Solver"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.solvers.Solver" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="plenoptomos.solvers.Solver.initialize_data_operators">
<span class="sig-name descname"><span class="pre">initialize_data_operators</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">A</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">At</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/solvers.html#Solver.initialize_data_operators"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.solvers.Solver.initialize_data_operators" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plenoptomos.solvers.Solver.lower">
<span class="sig-name descname"><span class="pre">lower</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/solvers.html#Solver.lower"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.solvers.Solver.lower" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plenoptomos.solvers.Solver.mult_matrix">
<span class="sig-name descname"><span class="pre">mult_matrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">M</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_shape</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/solvers.html#Solver.mult_matrix"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.solvers.Solver.mult_matrix" title="Permalink to this definition"></a></dt>
<dd><p>Multiplies a matrix M by and array x.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plenoptomos.solvers.Solver.upper">
<span class="sig-name descname"><span class="pre">upper</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/solvers.html#Solver.upper"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.solvers.Solver.upper" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-plenoptomos.tomo">
<span id="plenoptomos-tomo-module"></span><h2>plenoptomos.tomo module<a class="headerlink" href="#module-plenoptomos.tomo" title="Permalink to this headline"></a></h2>
<p>This module contains the tomographic refocusing routines.</p>
<p>&#64;author: Nicola VIGANÒ, Computational Imaging group, CWI, The Netherlands,
and ESRF - The European Synchrotron, Grenoble, France</p>
<p>Created on Wed Mar  8 11:30:00 2017</p>
<dl class="py class">
<dt class="sig sig-object py" id="plenoptomos.tomo.Projector">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">plenoptomos.tomo.</span></span><span class="sig-name descname"><span class="pre">Projector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">camera</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="#plenoptomos.lightfield.Camera" title="plenoptomos.lightfield.Camera"><span class="pre">plenoptomos.lightfield.Camera</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">zs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vignetting_int</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">beam_geometry</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'cone'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">domain</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'object'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">psf_d</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">up_sampling</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">super_sampling</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shifts_vu</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(None,</span> <span class="pre">None)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gpu_index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/tomo.html#Projector"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.tomo.Projector" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Projector class: it allows to forward-project and back-project light-fields.</p>
<p>This class should not be used directly, but rather through the functions
provided in the containing module.</p>
<dl class="py method">
<dt class="sig sig-object py" id="plenoptomos.tomo.Projector.BP">
<span class="sig-name descname"><span class="pre">BP</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">y</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/tomo.html#Projector.BP"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.tomo.Projector.BP" title="Permalink to this definition"></a></dt>
<dd><p>Back-projection function</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> – Light-field to back-project (numpy.array_like)</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The back-projected volume</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.array_like</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plenoptomos.tomo.Projector.FP">
<span class="sig-name descname"><span class="pre">FP</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/tomo.html#Projector.FP"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.tomo.Projector.FP" title="Permalink to this definition"></a></dt>
<dd><p>Forward-projection function</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> – The volume to project (numpy.array_like)</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The projected light-field</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.array_like</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plenoptomos.tomo.Projector.reset">
<span class="sig-name descname"><span class="pre">reset</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/tomo.html#Projector.reset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.tomo.Projector.reset" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="plenoptomos.tomo.compute_forwardprojection">
<span class="sig-prename descclassname"><span class="pre">plenoptomos.tomo.</span></span><span class="sig-name descname"><span class="pre">compute_forwardprojection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">camera</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="#plenoptomos.lightfield.Camera" title="plenoptomos.lightfield.Camera"><span class="pre">plenoptomos.lightfield.Camera</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">zs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vols</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">masks</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reflective_geom</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">border</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">border_padding</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'edge'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">up_sampling</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">super_sampling</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">beam_geometry</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'cone'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">domain</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'object'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gpu_index</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/tomo.html#compute_forwardprojection"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.tomo.compute_forwardprojection" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="plenoptomos.tomo.compute_refocus_backprojection">
<span class="sig-prename descclassname"><span class="pre">plenoptomos.tomo.</span></span><span class="sig-name descname"><span class="pre">compute_refocus_backprojection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lf</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="#plenoptomos.lightfield.Lightfield" title="plenoptomos.lightfield.Lightfield"><span class="pre">plenoptomos.lightfield.Lightfield</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">zs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">border</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">border_padding</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'edge'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">up_sampling</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">super_sampling</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">beam_geometry</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'cone'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">domain</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'object'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gpu_index</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/tomo.html#compute_refocus_backprojection"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.tomo.compute_refocus_backprojection" title="Permalink to this definition"></a></dt>
<dd><p>Compute refocusing of the input lightfield image at the input distances by
applying the backprojection method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lf</strong> – The light-field object (lightfield.Lightfield)</p></li>
<li><p><strong>zs</strong> – Refocusing distances (numpy.array_like)</p></li>
<li><p><strong>up_sampling</strong> – Integer greater than 1 for up-sampling of the final images (int, default: 1)</p></li>
<li><p><strong>super_sampling</strong> – Super-sampling of the back-projection operator
(it will not increase refocused image size/resolution) (int, default: 1)</p></li>
<li><p><strong>border</strong> – Number of pixels to extend the border and reduce darkening of edges (int, default: 4)</p></li>
<li><p><strong>border_padding</strong> – Border padding method (string, default: ‘edge’)</p></li>
<li><p><strong>beam_geometry</strong> – Beam geometry. Possible options: ‘parallel’ | ‘cone’ (string, default: ‘parallel’)</p></li>
<li><p><strong>domain</strong> – Refocusing domain. Possible options: ‘object’ | ‘image’ (string, default: ‘object’)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Stack of 2D refocused images.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.array_like</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="plenoptomos.tomo.compute_refocus_iterative">
<span class="sig-prename descclassname"><span class="pre">plenoptomos.tomo.</span></span><span class="sig-name descname"><span class="pre">compute_refocus_iterative</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lf</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="#plenoptomos.lightfield.Lightfield" title="plenoptomos.lightfield.Lightfield"><span class="pre">plenoptomos.lightfield.Lightfield</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">zs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span> </span><span class="pre">Sequence</span><span class="p"><span class="pre">,</span> </span><span class="pre">numpy.array</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">beam_geometry</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'cone'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">domain</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'object'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zs_independent</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">border</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">border_padding</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'edge'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">algorithm</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><a class="reference internal" href="#plenoptomos.solvers.Solver" title="plenoptomos.solvers.Solver"><span class="pre">plenoptomos.solvers.Solver</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'sirt'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iterations</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">up_sampling</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">super_sampling</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">psf</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#plenoptomos.psf.PSFApply" title="plenoptomos.psf.PSFApply"><span class="pre">plenoptomos.psf.PSFApply</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gpu_index</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/tomo.html#compute_refocus_iterative"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.tomo.compute_refocus_iterative" title="Permalink to this definition"></a></dt>
<dd><p>Compute refocusing of the input lightfield image at the input distances by applying iterative methods.</p>
<dl class="simple">
<dt>lf<span class="classifier">lightfield.Lightfield</span></dt><dd><p>The light-field object.</p>
</dd>
<dt>zs<span class="classifier">any of float, list, tuple, numpy.array_like</span></dt><dd><p>Refocusing distances.</p>
</dd>
<dt>beam_geometry<span class="classifier">str, optional</span></dt><dd><p>Beam geometry. The default is “cone”, out of: ‘parallel’ | ‘cone’.</p>
</dd>
<dt>domain<span class="classifier">str, optional</span></dt><dd><p>Refocusing domain. The default is “object”, out of: ‘object’ | ‘image’.</p>
</dd>
<dt>zs_independent<span class="classifier">bool, optional</span></dt><dd><p>Whether the refocusing should be independent for each distance. The default is True.</p>
</dd>
<dt>border<span class="classifier">int, optional</span></dt><dd><p>Number of pixels to extend the border and reduce darkening of edges. The default is 4.</p>
</dd>
<dt>border_padding<span class="classifier">str, optional</span></dt><dd><p>Border padding method. The default is “edge”.</p>
</dd>
<dt>algorithm<span class="classifier">str or solvers.Solver, optional</span></dt><dd><p>The algorithm to use. The default is “sirt”.</p>
</dd>
<dt>iterations<span class="classifier">int, optional</span></dt><dd><p>Number of iterations (for iterative algorithms). The default is 10.</p>
</dd>
<dt>up_sampling<span class="classifier">int, optional</span></dt><dd><p>Integer greater than 1 for up-sampling of the final images. The default is 1.</p>
</dd>
<dt>super_sampling<span class="classifier">int, optional</span></dt><dd><p>Finer sampling of the projection (does not alter the final image size). The default is 1.</p>
</dd>
<dt>psf<span class="classifier">Optional[psf.PSFApply], optional</span></dt><dd><p>Detector PSF. The default is None.</p>
</dd>
<dt>gpu_index<span class="classifier">int, optional</span></dt><dd><p>It allows to pin a specific GPU. The default is -1.</p>
</dd>
<dt>verbose<span class="classifier">bool, optional</span></dt><dd><p>Whether to have verbose output from algorithms. The default is False.</p>
</dd>
</dl>
<dl class="simple">
<dt>ValueError</dt><dd><p>DESCRIPTION.</p>
</dd>
</dl>
<dl class="simple">
<dt>numpy.array_like</dt><dd><p>Stack of 2D refocused images.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="plenoptomos.tomo.compute_refocus_iterative_multiple">
<span class="sig-prename descclassname"><span class="pre">plenoptomos.tomo.</span></span><span class="sig-name descname"><span class="pre">compute_refocus_iterative_multiple</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwds</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/tomo.html#compute_refocus_iterative_multiple"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.tomo.compute_refocus_iterative_multiple" title="Permalink to this definition"></a></dt>
<dd><p>Compute refocusing of the input lightfield image jointly at the input distances by applying iterative methods.</p>
<p>For the parameters description refer to the function <a class="reference internal" href="#plenoptomos.tomo.compute_refocus_iterative" title="plenoptomos.tomo.compute_refocus_iterative"><code class="xref py py-func docutils literal notranslate"><span class="pre">compute_refocus_iterative()</span></code></a>.</p>
</dd></dl>

</section>
<section id="module-plenoptomos.utils_io">
<span id="plenoptomos-utils-io-module"></span><h2>plenoptomos.utils_io module<a class="headerlink" href="#module-plenoptomos.utils_io" title="Permalink to this headline"></a></h2>
<p>Convenience functions for handling IO with hdf5 files of frequently used data
structures.</p>
<p>&#64;author: Nicola VIGANÒ, Computational Imaging group, CWI, The Netherlands,
and ESRF - The European Synchrotron, Grenoble, France</p>
<p>Created on Wed Mar  1 16:09:53 2017</p>
<dl class="py function">
<dt class="sig sig-object py" id="plenoptomos.utils_io.load_field_fromh5">
<span class="sig-prename descclassname"><span class="pre">plenoptomos.utils_io.</span></span><span class="sig-name descname"><span class="pre">load_field_fromh5</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/utils_io.html#load_field_fromh5"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.utils_io.load_field_fromh5" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="plenoptomos.utils_io.load_lightfield">
<span class="sig-prename descclassname"><span class="pre">plenoptomos.utils_io.</span></span><span class="sig-name descname"><span class="pre">load_lightfield</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/utils_io.html#load_lightfield"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.utils_io.load_lightfield" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="plenoptomos.utils_io.save_field_toh5">
<span class="sig-prename descclassname"><span class="pre">plenoptomos.utils_io.</span></span><span class="sig-name descname"><span class="pre">save_field_toh5</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dset_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">append</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compression_lvl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">7</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">to_uint8</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/utils_io.html#save_field_toh5"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.utils_io.save_field_toh5" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="plenoptomos.utils_io.save_lightfield">
<span class="sig-prename descclassname"><span class="pre">plenoptomos.utils_io.</span></span><span class="sig-name descname"><span class="pre">save_lightfield</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lf</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="#plenoptomos.lightfield.Lightfield" title="plenoptomos.lightfield.Lightfield"><span class="pre">plenoptomos.lightfield.Lightfield</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/utils_io.html#save_lightfield"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.utils_io.save_lightfield" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="plenoptomos.utils_io.save_refocused_image">
<span class="sig-prename descclassname"><span class="pre">plenoptomos.utils_io.</span></span><span class="sig-name descname"><span class="pre">save_refocused_image</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">img2d</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ind</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/utils_io.html#save_refocused_image"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.utils_io.save_refocused_image" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="plenoptomos.utils_io.save_refocused_stack">
<span class="sig-prename descclassname"><span class="pre">plenoptomos.utils_io.</span></span><span class="sig-name descname"><span class="pre">save_refocused_stack</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">refocus_stack</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/utils_io.html#save_refocused_stack"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.utils_io.save_refocused_stack" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-plenoptomos.utils_plot">
<span id="plenoptomos-utils-plot-module"></span><h2>plenoptomos.utils_plot module<a class="headerlink" href="#module-plenoptomos.utils_plot" title="Permalink to this headline"></a></h2>
<p>Simple visualization tools for refocused stacks.</p>
<p>&#64;author: Nicola VIGANÒ, Computational Imaging group, CWI, The Netherlands,
and ESRF - The European Synchrotron, Grenoble, France</p>
<p>Created on Fri Dec  8 15:24:12 2017</p>
<dl class="py class">
<dt class="sig sig-object py" id="plenoptomos.utils_plot.RefocusVisualizer">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">plenoptomos.utils_plot.</span></span><span class="sig-name descname"><span class="pre">RefocusVisualizer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">data</span></em>, <em class="sig-param"><span class="pre">pos_val=None</span></em>, <em class="sig-param"><span class="pre">ref_img=None</span></em>, <em class="sig-param"><span class="pre">transpose_axes=None</span></em>, <em class="sig-param"><span class="pre">share_axes=False</span></em>, <em class="sig-param"><span class="pre">clims=None</span></em>, <em class="sig-param"><span class="pre">do_clear=True</span></em>, <em class="sig-param"><span class="pre">cmap=&lt;matplotlib.colors.ListedColormap</span> <span class="pre">object&gt;</span></em>, <em class="sig-param"><span class="pre">colorbar=True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/utils_plot.html#RefocusVisualizer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.utils_plot.RefocusVisualizer" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Simple visualization tool for refocusing stacks.</p>
<dl class="py method">
<dt class="sig sig-object py" id="plenoptomos.utils_plot.RefocusVisualizer.show">
<span class="sig-name descname"><span class="pre">show</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwords</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/utils_plot.html#RefocusVisualizer.show"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.utils_plot.RefocusVisualizer.show" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="plenoptomos.utils_plot.Scroller">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">plenoptomos.utils_plot.</span></span><span class="sig-name descname"><span class="pre">Scroller</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">f</span></em>, <em class="sig-param"><span class="pre">ax</span></em>, <em class="sig-param"><span class="pre">data</span></em>, <em class="sig-param"><span class="pre">pos_val=None</span></em>, <em class="sig-param"><span class="pre">title=None</span></em>, <em class="sig-param"><span class="pre">do_clear=True</span></em>, <em class="sig-param"><span class="pre">clims=None</span></em>, <em class="sig-param"><span class="pre">cmap=&lt;matplotlib.colors.ListedColormap</span> <span class="pre">object&gt;</span></em>, <em class="sig-param"><span class="pre">colorbar=True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/utils_plot.html#Scroller"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.utils_plot.Scroller" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class to be used in conjunction with RefocusVisualizer.</p>
<dl class="py method">
<dt class="sig sig-object py" id="plenoptomos.utils_plot.Scroller.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/utils_plot.html#Scroller.update"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.utils_plot.Scroller.update" title="Permalink to this definition"></a></dt>
<dd><p>Updates the axes, to show the new requested image.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-plenoptomos.utils_proc">
<span id="plenoptomos-utils-proc-module"></span><h2>plenoptomos.utils_proc module<a class="headerlink" href="#module-plenoptomos.utils_proc" title="Permalink to this headline"></a></h2>
<p>This module implements utility functions for image processing.</p>
<p>&#64;author: Nicola VIGANÒ, Computational Imaging group, CWI, The Netherlands,
and ESRF - The European Synchrotron, Grenoble, France</p>
<p>Created on Wed Sep 18 17:00:50 2019</p>
<dl class="py function">
<dt class="sig sig-object py" id="plenoptomos.utils_proc.apply_bandpass_filter">
<span class="sig-prename descclassname"><span class="pre">plenoptomos.utils_proc.</span></span><span class="sig-name descname"><span class="pre">apply_bandpass_filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">img</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filt_fft</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/utils_proc.html#apply_bandpass_filter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.utils_proc.apply_bandpass_filter" title="Permalink to this definition"></a></dt>
<dd><p>Applies a 2D band pass filter to an image or collection of images.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>img</strong> (<cite>numpy.array_like</cite>) – Image to be filtered</p></li>
<li><p><strong>filt_fft</strong> (<cite>numpy.array_like</cite>) – 2D filter in Fourier domain</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The filtered image</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><cite>numpy.array_like</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="plenoptomos.utils_proc.get_bandpass_filter">
<span class="sig-prename descclassname"><span class="pre">plenoptomos.utils_proc.</span></span><span class="sig-name descname"><span class="pre">get_bandpass_filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">img_shape</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cutoff_pix</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trans_pix</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/utils_proc.html#get_bandpass_filter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.utils_proc.get_bandpass_filter" title="Permalink to this definition"></a></dt>
<dd><p>Computes a band pass filter with the erf.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>img_shape</strong> (<em>tuple</em>) – Shape of the image</p></li>
<li><p><strong>cutoff_pix</strong> (<em>tuple</em><em>(</em><em>int</em><em>, </em><em>int</em><em>)</em>) – Position of the cutoffs in k-vector, in the fft domain</p></li>
<li><p><strong>trans_pix</strong> (<em>tuple</em><em>(</em><em>int</em><em>, </em><em>int</em><em>)</em>) – Size of the cutoffs transition in k-vector, in the fft domain</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The computes filter</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><cite>numpy.array_like</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="plenoptomos.utils_proc.get_highpass_filter">
<span class="sig-prename descclassname"><span class="pre">plenoptomos.utils_proc.</span></span><span class="sig-name descname"><span class="pre">get_highpass_filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">img_shape</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cutoff_pix</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trans_pix</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/utils_proc.html#get_highpass_filter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.utils_proc.get_highpass_filter" title="Permalink to this definition"></a></dt>
<dd><p>Computes a high pass filter with the erf.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>img_shape</strong> (<em>tuple</em>) – Shape of the image</p></li>
<li><p><strong>cutoff_pix</strong> (<em>int</em><em> or </em><em>tuple of ints</em>) – Position of the cutoff in k-vector, in the fft domain</p></li>
<li><p><strong>trans_pix</strong> (<em>int</em>) – Size of the cutoff transition in k-vector, in the fft domain</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The computes filter</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><cite>numpy.array_like</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="plenoptomos.utils_proc.get_lowpass_filter">
<span class="sig-prename descclassname"><span class="pre">plenoptomos.utils_proc.</span></span><span class="sig-name descname"><span class="pre">get_lowpass_filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">img_shape</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cutoff_pix</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trans_pix</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/utils_proc.html#get_lowpass_filter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.utils_proc.get_lowpass_filter" title="Permalink to this definition"></a></dt>
<dd><p>Computes a low pass filter with the erfc.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>img_shape</strong> (<em>tuple</em>) – Shape of the image</p></li>
<li><p><strong>cutoff_pix</strong> (<em>int</em><em> or </em><em>tuple of ints</em>) – Position of the cutoff in k-vector, in the fft domain</p></li>
<li><p><strong>trans_pix</strong> (<em>int</em>) – Size of the cutoff transition in k-vector, in the fft domain</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The computes filter</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><cite>numpy.array_like</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="plenoptomos.utils_proc.get_smoothing_filter">
<span class="sig-prename descclassname"><span class="pre">plenoptomos.utils_proc.</span></span><span class="sig-name descname"><span class="pre">get_smoothing_filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">window_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(9,</span> <span class="pre">9)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">window_shape</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'gauss'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_filter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/utils_proc.html#get_smoothing_filter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.utils_proc.get_smoothing_filter" title="Permalink to this definition"></a></dt>
<dd><p>Computes and returns a smoothing filter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>window_size</strong> (<em>tuple</em><em>(</em><em>int</em><em>, </em><em>int</em><em>)</em><em>, </em><em>optional</em>) – Filter window size, defaults to (9, 9)</p></li>
<li><p><strong>window_shape</strong> (<em>str</em><em>, </em><em>optional. Options: {'gauss'}</em><em> | </em><em>'tri'</em><em> | </em><em>'circ'</em><em> | </em><em>'rect'.</em>) – Filter type, defaults to ‘gauss’</p></li>
<li><p><strong>plot_filter</strong> (<em>boolean</em><em>, </em><em>optional</em>) – Whether to plot the filter or not, defaults to False</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – In case of wrong filter name</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The filter</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><cite>numpy.array_like</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="plenoptomos.utils_proc.remove_background">
<span class="sig-prename descclassname"><span class="pre">plenoptomos.utils_proc.</span></span><span class="sig-name descname"><span class="pre">remove_background</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">blur_size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">blur_func</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'circ'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0,</span> <span class="pre">1)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">do_reverse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">non_negative</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plenoptomos/utils_proc.html#remove_background"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptomos.utils_proc.remove_background" title="Permalink to this definition"></a></dt>
<dd><p>Removes the background.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<cite>numpy.array_like</cite>) – Input data.</p></li>
<li><p><strong>blur_size</strong> (<em>tuple</em><em>(</em><em>int</em><em>, </em><em>int</em><em>)</em>) – Size of the blur filter</p></li>
<li><p><strong>blur_func</strong> (str, optional. Options are the ones of <cite>get_smoothing_filter</cite>) – Smoothing blur type, defaults to ‘circ’</p></li>
<li><p><strong>axes</strong> (<em>tuple</em><em>, </em><em>optional</em>) – Axes where to remove the background, defaults to (0, 1)</p></li>
<li><p><strong>do_reverse</strong> (<em>boolean</em><em>, </em><em>optional</em>) – Computes the opposite of the input data (minus), defaults to False</p></li>
<li><p><strong>non_negative</strong> (<em>boolean</em><em>, </em><em>optional</em>) – Truncates the values below zero, defaults to False</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Background removed data</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><cite>numpy.array_like</cite></p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-plenoptomos">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-plenoptomos" title="Permalink to this headline"></a></h2>
<p>Top-level package for plenoptomos.</p>
<p>Created on Thu Mar  2 17:44:15 2017</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="modules.html" class="btn btn-neutral float-left" title="plenoptomos" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="plenoptomos.unsupported.html" class="btn btn-neutral float-right" title="plenoptomos.unsupported package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2019, Nicola VIGANO.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>